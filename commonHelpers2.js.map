{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const formData = {\n  email: '',\n  message: '',\n};\n\nconst textInput = document.querySelector('.feedback-form');\n\n// Check if needed page exists to prevent errors\nif (textInput) {\n  // Load function to fill up the form\n  const load = form => {\n    const valueFromLs = JSON.parse(localStorage.getItem('feedback-form-state'));\n\n    if (valueFromLs === null) {\n      return;\n    }\n\n    // Iterating the local storage\n    for (const key of Object.keys(valueFromLs)) {\n      form.elements[key].value = valueFromLs[key];\n      // Update global object with data, in case we reload the page, and need to re-type only 1 filed\n      formData[key] = valueFromLs[key];\n    }\n  };\n\n  // Call the function right away\n  load(textInput);\n\n  // Callback function for input-form\n  const formHandler = event => {\n    // Get data from the form\n    formData[event.target.name] = event.target.value;\n\n    localStorage.setItem('feedback-form-state', JSON.stringify(formData));\n  };\n\n  textInput.addEventListener('input', formHandler);\n\n  // Callback function for submit button\n  const formSubmit = event => {\n    event.preventDefault();\n\n    const emailValue = event.target.elements.email.value.trim();\n    const messageValue = event.target.elements.message.value.trim();\n\n    // Check if all fields filled up\n    if (!emailValue || !messageValue) {\n      alert('Fill please all fields');\n    } else {\n      console.log(formData);\n\n      event.target.reset();\n      localStorage.removeItem('feedback-form-state');\n\n      formData.email = '';\n      formData.message = '';\n    }\n  };\n\n  textInput.addEventListener('submit', formSubmit);\n}\n"],"names":["formData","textInput","form","valueFromLs","key","formHandler","event","formSubmit","emailValue","messageValue"],"mappings":"wFAAA,MAAMA,EAAW,CACf,MAAO,GACP,QAAS,EACX,EAEMC,EAAY,SAAS,cAAc,gBAAgB,EAGzD,GAAIA,EAAW,EAEAC,GAAQ,CACnB,MAAMC,EAAc,KAAK,MAAM,aAAa,QAAQ,qBAAqB,CAAC,EAE1E,GAAIA,IAAgB,KAKpB,UAAWC,KAAO,OAAO,KAAKD,CAAW,EACvCD,EAAK,SAASE,CAAG,EAAE,MAAQD,EAAYC,CAAG,EAE1CJ,EAASI,CAAG,EAAID,EAAYC,CAAG,CAErC,GAGOH,CAAS,EAGd,MAAMI,EAAcC,GAAS,CAE3BN,EAASM,EAAM,OAAO,IAAI,EAAIA,EAAM,OAAO,MAE3C,aAAa,QAAQ,sBAAuB,KAAK,UAAUN,CAAQ,CAAC,CACxE,EAEEC,EAAU,iBAAiB,QAASI,CAAW,EAG/C,MAAME,EAAaD,GAAS,CAC1BA,EAAM,eAAc,EAEpB,MAAME,EAAaF,EAAM,OAAO,SAAS,MAAM,MAAM,OAC/CG,EAAeH,EAAM,OAAO,SAAS,QAAQ,MAAM,OAGrD,CAACE,GAAc,CAACC,EAClB,MAAM,wBAAwB,GAE9B,QAAQ,IAAIT,CAAQ,EAEpBM,EAAM,OAAO,QACb,aAAa,WAAW,qBAAqB,EAE7CN,EAAS,MAAQ,GACjBA,EAAS,QAAU,GAEzB,EAEEC,EAAU,iBAAiB,SAAUM,CAAU,CACjD"}